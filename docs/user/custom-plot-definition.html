<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="" lang="">  <head>    <meta charset="utf-8" />    <meta name="generator" content="pandoc" />    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />    <title>custom-plot-definition</title>    <style>      code{white-space: pre-wrap;}      span.smallcaps{font-variant: small-caps;}      span.underline{text-decoration: underline;}      div.column{display: inline-block; vertical-align: top; width: 50%;}  </style>    <!--[if lt IE 9]>    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>  <![endif]-->  </head>  <body>    <h1 id="file-formats-for-custom-plot-definition.">File formats for custom      plot definition.</h1>    <h2 id="excel-format">Excel format</h2>    <ul>    </ul>    <p><img src="../img/custom_plot_def.jpeg" alt="" title="Custom Plot Definition Spreadsheet" /><br />    </p>    <p>- save as <code>.xlsx</code> into <b>CustomPlots</b> folder of BSPfile</p>    <p>- header format, including column labels (Rows 1-5), must not be changed</p>    <p>- the group/channel identifier(s) can be generated from the context menu      <code>-&gt; copy to clipboard</code> in the kVIS3 channel list.</p>    <h2>Editable Fields:</h2>    <h3>Header: </h3>    <p>- Plot title: Name of plot to be listed in kVIS3</p>    <p>- Window Size: Plot window size in pixels</p>    <h3>Plot Definition Rows: </h3>    - Plot No: Number of plot for given definition column. Must be increasing    and cannot have gaps. Repeated plot numbers will produce a single plot with    multiple lines. <br />    <p>- Row: Plot stack row to place plot into </p>    - Column: Plot stack column to place plot into <br />    <p>- AxesLayout: <code>S</code> for single y axis, <code>L</code> and <code>R</code>      for double y axis. Plot definition must have a left y axis. </p>    - xAxisLabel: Override plot <code>x</code> label. Provide a valid LaTeX    string. Leave empty for defaults. <br />    <p>- yAxisLabel: Override plot <code>y</code> label. Provide a valid LaTeX      string. Leave empty for defaults. </p>    - LegendStyle: <code>horizontal</code> or <code>vertical</code>. Default:    Matlab default <br />    <p>- LegendLocation: valid Matlab legend location string</p>    - xChannel: data to use for plot x axis (default: time). Must have the same    sample rate (number of points) as yChannel. Format: group Name / channel    Name<br />    <p>- yChannel: data to use for plot y axis. Format: group Name / channel      Name</p>     - cChannel: if specified, xy plot becomes a scatter plot with cChannel used    as colour for the data points. Must have the same sample rate (number of    points) as yChannel. Format: group Name / channel Name<br />    <p>- LineStyle: valid Matlab line style specifier (-, .-, .. and so on)</p>    - LineColour: valid line colour spec character (‘k’)<br />    <p>- ScaleFactor: Scale yChannel by this value</p>    <p> - FunctionHandle: function handle to process yChannel data. Must be on      path, typically provided by BSP in <code>CustomPlotFcn</code> folder.      Function header: <code>function [y,x] = demo_fcn(data, varargin)<br /></code></p><ul><li>Output <code>y</code>: new y data to be plotted</li><li>Output <code>x</code>: new x vector to be used for plotting (useful for fft and other special plots)</li><li>Input <code>data</code>: yChannel data</li><li>Input <code>varargin</code>: cell structure with content: {1}: fds structure {2}: selected data limits - must be applied to output to get consistent vector lengths {3}: string read from column <code>FunctionChannel</code> to be processed by the function.</li></ul><p>- FunctionChannel: Comma separated string of arbitrary arguments for above function, must be compatible with the function definition (see examples <code>psd_fcn.m</code>, <code>filter_fcn.m</code>).</p>    - LabelOverride: Specify new label for yChannel (appears in plot labels and    legends). Provide a valid LaTeX string. Leave empty for defaults.    <ul>    </ul>    <h2 id="legacy-m-file-format"><br />    </h2>    <h2>Legacy <code>m file</code> format</h2>    <p>Kept for compatibility, use for new plots is discouraged.</p>    <p>The plot definition is structured as a cell array. The file content      except the actual plot definition rows must equal to the structure shown      in the example below.</p>    <p>All plots are generated against the time vector on the X-axis.</p>    <p>Plots are arranged using Matlab <code>subplots()</code>.</p>    <h3>Plot layout fields: </h3>    <p>- Row </p>    <p>- Col </p>    <p>- AxesLayout for Y axis </p>    <p>- PlotStyle: standard Matlab plot style shortcuts (solid, dashed,…) </p>    <p>- Color: standard Matlab line colour definition </p>    <h3>Plot entry fields: </h3>    <p>- Group: tree group of data channel</p>    <p>- Channel: data channel name</p>    <p>- ScaleFactor: constant scale factor applied to the data during plot      generation</p>    - UnitOverride: new unit after scale factor application    <h3>Example:</h3>    <pre><code>plot_definition = {... Row, Col, AxesLayout, PlotStyle, Color,     Group,        Channel, ScaleFactor, UnitOverride;      1,   1,        'S',        '',    '',    'Base',           'Az',            1,          '';      2,   1,        'S',        '',    '',    'Base',           'Gy',       180/pi,     'deg/s';      3,   1,        'S',        '',    '',    'Base',          'AoA',            1,          '';      4,   1,        'S',        '',    '',    'Base',        'Pitch',            1,          '';      5,   1,        'L',        '',    '',    'Base',     'Elevator',            1,          '';      5,   1,        'R',        '',    '', 'Control', 'Ch3 CMD (el)',            1,          '';    };CUSTOM_PLOTS.(BSP_NAME).Base = plot_definition;</code></pre>  </body></html>